<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="https://jlangson.github.io/make-hard-decisions/preview-card1.png">
    <title>Decision Helper - Make Difficult Decisions with Confidence</title>
    
    <!-- Open Graph / Discord Rich Embeds -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Decision Helper">
    <meta property="og:title" content="Decision Helper - Make Difficult Decisions with Confidence">
    <meta property="og:description" content="A decision-making tool that helps you analyze options using comparative scoring. List pros and cons, then use structured methodology to make better choices.">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Decision Helper - Structured decision analysis tool">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Decision Helper - Make Difficult Decisions with Confidence">
    <meta name="twitter:description" content="A decision-making tool that helps you analyze options using comparative scoring. List pros and cons, then use structured methodology to make better choices.">
    <meta name="twitter:image" content="">
    
    <!-- Additional Meta Tags -->
    <meta name="description" content="A decision-making tool that helps you analyze options using comparative scoring. List pros and cons, then use structured methodology to make better choices.">
    <meta name="keywords" content="decision making, choice analysis, pros and cons, decision tool, comparative analysis">
    <meta name="author" content="Decision Helper">
    
    <!-- Theme Color for Mobile -->
    <meta name="theme-color" content="#667eea">
    <meta name="msapplication-TileColor" content="#667eea">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon-question.svg">
    <link rel="alternate icon" href="favicon-question.svg">
    <link rel="mask-icon" href="favicon-question.svg" color="#667eea">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS PWA support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Decision Helper">
    <link rel="apple-touch-icon" href="favicon-question.svg">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Skip Navigation for Screen Readers -->
    <a href="#main-content" class="skip-nav" aria-label="Skip to main content">Skip to main content</a>
    
    <!-- Universal Start Over Button -->
    <button id="universal-start-over" class="universal-start-over" 
            aria-label="Start over and clear all progress" 
            title="Start Over?">
        ↻
    </button>

    <!-- Navigation Controls -->
    <nav id="navigation-controls" class="navigation-controls" aria-label="Step navigation">
        <button id="nav-back-btn" class="nav-btn" 
                aria-label="Go back to previous step" 
                title="Go Back (Alt+←)" 
                disabled>
            ←
        </button>
        <button id="nav-forward-btn" class="nav-btn" 
                aria-label="Go forward to next step" 
                title="Go Forward (Alt+→)" 
                disabled>
            →
        </button>
    </nav>

    <!-- Live region for screen reader announcements -->
    <div id="sr-announcements" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <main id="main-content" class="container">
        <h1 tabindex="-1">Decision Helper</h1>
        <p class="subtitle">Make difficult decisions with confidence</p>

        <!-- Step 1: Brainstorming -->
        <section id="brainstorm-section" class="section" aria-labelledby="brainstorm-heading" role="region">
            <h2 id="brainstorm-heading" tabindex="-1">Step 1: Brainstorm Your Options</h2>
            <p>List all the choices you're considering:</p>
            <div id="choices-container" role="group" aria-label="Decision options">
                <div class="choice-input">
                    <label for="choice-1" class="sr-only">First decision option</label>
                    <input type="text" id="choice-1" class="choice" placeholder="Enter first option..." 
                           aria-describedby="choices-help">
                    <button class="remove-choice" aria-label="Remove first option">×</button>
                </div>
                <div class="choice-input">
                    <label for="choice-2" class="sr-only">Second decision option</label>
                    <input type="text" id="choice-2" class="choice" placeholder="Enter second option..." 
                           aria-describedby="choices-help">
                    <button class="remove-choice" aria-label="Remove second option">×</button>
                </div>
            </div>
            <div id="choices-help" class="sr-only">Enter options you're considering for your decision. You can add more options or remove existing ones.</div>
            <div class="brainstorm-actions">
                <button id="add-choice" aria-label="Add another decision option">+ Add Another Option</button>
                <button id="proceed-to-comparison" class="primary-btn" 
                        aria-describedby="proceed-help">Proceed to Comparison</button>
            </div>
            <div id="proceed-help" class="sr-only">Continue to the next step to compare your options. You need at least 2 options to proceed.</div>
        </section>

        <!-- Step 2: Select Two Options -->
        <section id="selection-section" class="section hidden" aria-labelledby="selection-heading" role="region">
            <h2 id="selection-heading" tabindex="-1">Step 2: Select Two Options to Compare</h2>
            <div class="option-selectors" role="group" aria-labelledby="selection-heading">
                <div class="selector-group">
                    <label for="option-a">Option A:</label>
                    <select id="option-a" aria-describedby="option-select-help"></select>
                </div>
                <div class="selector-group">
                    <label for="option-b">Option B:</label>
                    <select id="option-b" aria-describedby="option-select-help"></select>
                </div>
            </div>
            <div id="option-select-help" class="sr-only">Select two different options to compare. You cannot select the same option for both A and B.</div>
            <button id="start-comparison" class="primary-btn" 
                    aria-describedby="start-comparison-help">Start Comparison</button>
            <div id="start-comparison-help" class="sr-only">Begin comparing the selected options by listing their advantages and disadvantages.</div>
        </section>

        <!-- Step 3: Pros and Cons -->
        <section id="comparison-section" class="section hidden" aria-labelledby="comparison-heading" role="region">
            <h2 id="comparison-heading" tabindex="-1">Step 3: Compare Your Options</h2>
            <div class="comparison-grid">
                <div class="comparison-column">
                    <h3 id="option-a-title">Option A</h3>
                    <div class="pros-cons-container">
                        <div class="pros-cons-box">
                            <label for="advantages-a">
                                <h4>Advantages</h4>
                            </label>
                            <textarea id="advantages-a" 
                                    placeholder="List the advantages of this option..." 
                                    autocomplete="off" spellcheck="true" inputmode="text"
                                    aria-describedby="advantages-a-help"></textarea>
                            <div id="advantages-a-help" class="sr-only">List the positive aspects and benefits of this option. Each advantage should be on a new line.</div>
                        </div>
                        <div class="pros-cons-box">
                            <label for="disadvantages-a">
                                <h4>Disadvantages</h4>
                            </label>
                            <textarea id="disadvantages-a" 
                                    placeholder="List the disadvantages of this option..." 
                                    autocomplete="off" spellcheck="true" inputmode="text"
                                    aria-describedby="disadvantages-a-help"></textarea>
                            <div id="disadvantages-a-help" class="sr-only">List the negative aspects and drawbacks of this option. Each disadvantage should be on a new line.</div>
                        </div>
                    </div>
                </div>
                
                <div class="comparison-column">
                    <h3 id="option-b-title">Option B</h3>
                    <div class="pros-cons-container">
                        <div class="pros-cons-box">
                            <label for="advantages-b">
                                <h4>Advantages</h4>
                            </label>
                            <textarea id="advantages-b" 
                                    placeholder="List the advantages of this option..." 
                                    autocomplete="off" spellcheck="true" inputmode="text"
                                    aria-describedby="advantages-b-help"></textarea>
                            <div id="advantages-b-help" class="sr-only">List the positive aspects and benefits of this option. Each advantage should be on a new line.</div>
                        </div>
                        <div class="pros-cons-box">
                            <label for="disadvantages-b">
                                <h4>Disadvantages</h4>
                            </label>
                            <textarea id="disadvantages-b" 
                                    placeholder="List the disadvantages of this option..." 
                                    autocomplete="off" spellcheck="true" inputmode="text"
                                    aria-describedby="disadvantages-b-help"></textarea>
                            <div id="disadvantages-b-help" class="sr-only">List the negative aspects and drawbacks of this option. Each disadvantage should be on a new line.</div>
                        </div>
                    </div>
                </div>
            </div>
            <button id="proceed-to-scoring" class="primary-btn" 
                    aria-describedby="proceed-scoring-help">Proceed to Scoring</button>
            <div id="proceed-scoring-help" class="sr-only">Continue to the scoring phase where you'll allocate points between different aspects of your options.</div>
        </section>

        <!-- Step 4: Comparative Scoring -->
        <section id="scoring-section" class="section hidden" aria-labelledby="scoring-heading" role="region">
            <h2 id="scoring-heading" tabindex="-1">Step 4: Comparative Scoring</h2>
            <p>For each comparison, decide which is more important and by how much.</p>
            
            <!-- Step 4.1: Option A Internal Comparison -->
            <div class="comparison-step">
                <h3>Step 1: Compare within <span id="internal-option-a">Option A</span></h3>
                <p>Focus only on Option A. Compare its advantages vs disadvantages. The higher number is which side seems greater.</p>
                
                <div class="step-with-reference">
                    <div class="comparison-section">
                        <div class="slider-comparison">
                            <div class="slider-labels">
                                <span class="slider-label-left">Advantages of <span id="adv-a-label-1">Option A</span></span>
                                <span class="slider-label-right">Disadvantages of <span id="dis-a-label-1">Option A</span></span>
                            </div>
                            <div class="slider-container">
                                <label for="slider-1-2" class="sr-only">Allocate 100 points between advantages and disadvantages of Option A</label>
                                <input type="range" id="slider-1-2" class="comparison-slider" 
                                       min="0" max="100" step="5" value="50"
                                       aria-describedby="slider-1-2-help"
                                       aria-valuetext="50 points to advantages, 50 points to disadvantages">
                                <div id="slider-1-2-help" class="sr-only">Use arrow keys to adjust allocation. Move toward a side to give it more points. Total always equals 100.</div>
                                <div class="slider-values">
                                    <div class="value-control">
                                        <button class="value-btn minus" data-target="value-1" 
                                                aria-label="Decrease points for advantages">−</button>
                                        <span id="value-1" class="slider-value-left editable-value" 
                                              contenteditable="true" role="spinbutton" 
                                              aria-label="Points for advantages" 
                                              aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">50</span>
                                        <button class="value-btn plus" data-target="value-1" 
                                                aria-label="Increase points for advantages">+</button>
                                    </div>
                                    <div class="value-control">
                                        <button class="value-btn minus" data-target="value-2" 
                                                aria-label="Decrease points for disadvantages">−</button>
                                        <span id="value-2" class="slider-value-right editable-value" 
                                              contenteditable="true" role="spinbutton" 
                                              aria-label="Points for disadvantages" 
                                              aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">50</span>
                                        <button class="value-btn plus" data-target="value-2" 
                                                aria-label="Increase points for disadvantages">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-reference">
                        <div class="step-reference-grid">
                            <div class="step-reference-item">
                                <h5>Advantages of <span id="step1-adv-title">Option A</span>:</h5>
                                <div id="step1-advantages" class="step-reference-content"></div>
                            </div>
                            <div class="step-reference-item">
                                <h5>Disadvantages of <span id="step1-dis-title">Option A</span>:</h5>
                                <div id="step1-disadvantages" class="step-reference-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4.2: Option B Internal Comparison -->
            <div class="comparison-step">
                <h3>Step 2: Compare within <span id="internal-option-b">Option B</span></h3>
                <p>Focus only on Option B. Compare its advantages vs disadvantages. The higher number is which side seems greater.</p>
                
                <div class="step-with-reference">
                    <div class="comparison-section">
                        <div class="slider-comparison">
                            <div class="slider-labels">
                                <span class="slider-label-left">Advantages of <span id="adv-b-label-1">Option B</span></span>
                                <span class="slider-label-right">Disadvantages of <span id="dis-b-label-1">Option B</span></span>
                            </div>
                            <div class="slider-container">
                                <label for="slider-3-4" class="sr-only">Allocate 100 points between advantages and disadvantages of Option B</label>
                                <input type="range" id="slider-3-4" class="comparison-slider" 
                                       min="0" max="100" step="5" value="50"
                                       aria-describedby="slider-3-4-help"
                                       aria-valuetext="50 points to advantages, 50 points to disadvantages">
                                <div id="slider-3-4-help" class="sr-only">Use arrow keys to adjust allocation. Move toward a side to give it more points. Total always equals 100.</div>
                                <div class="slider-values">
                                    <div class="value-control">
                                        <button class="value-btn minus" data-target="value-3" 
                                                aria-label="Decrease points for advantages">−</button>
                                        <span id="value-3" class="slider-value-left editable-value" 
                                              contenteditable="true" role="spinbutton" 
                                              aria-label="Points for advantages" 
                                              aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">50</span>
                                        <button class="value-btn plus" data-target="value-3" 
                                                aria-label="Increase points for advantages">+</button>
                                    </div>
                                    <div class="value-control">
                                        <button class="value-btn minus" data-target="value-4" 
                                                aria-label="Decrease points for disadvantages">−</button>
                                        <span id="value-4" class="slider-value-right editable-value" 
                                              contenteditable="true" role="spinbutton" 
                                              aria-label="Points for disadvantages" 
                                              aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">50</span>
                                        <button class="value-btn plus" data-target="value-4" 
                                                aria-label="Increase points for disadvantages">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-reference">
                        <div class="step-reference-grid">
                            <div class="step-reference-item">
                                <h5>Advantages of <span id="step2-adv-title">Option B</span>:</h5>
                                <div id="step2-advantages" class="step-reference-content"></div>
                            </div>
                            <div class="step-reference-item">
                                <h5>Disadvantages of <span id="step2-dis-title">Option B</span>:</h5>
                                <div id="step2-disadvantages" class="step-reference-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4.3: Advantages Comparison -->
            <div class="comparison-step">
                <h3>Step 3: Compare Advantages</h3>
                <p>Focus only on advantages. Which option has more desirable advantages? The higher number is the preferred choice.</p>
                
                <div class="step-with-reference">
                    <div class="comparison-section">
                        <div class="slider-comparison">
                            <div class="slider-labels">
                                <span class="slider-label-left">Advantages of <span id="adv-a-label-2">Option A</span></span>
                                <span class="slider-label-right">Advantages of <span id="adv-b-label-2">Option B</span></span>
                            </div>
                            <div class="slider-container">
                                <label for="slider-5-6" class="sr-only">Allocate 100 points between advantages of both options</label>
                                <input type="range" id="slider-5-6" class="comparison-slider" 
                                       min="0" max="100" step="5" value="50"
                                       aria-describedby="slider-5-6-help"
                                       aria-valuetext="50 points to Option A advantages, 50 points to Option B advantages">
                                <div id="slider-5-6-help" class="sr-only">Use arrow keys to adjust allocation. Move toward a side to give it more points. Total always equals 100.</div>
                                <div class="slider-values">
                                    <div class="value-control">
                                        <button class="value-btn minus" data-target="value-5" 
                                                aria-label="Decrease points for Option A advantages">−</button>
                                        <span id="value-5" class="slider-value-left editable-value" 
                                              contenteditable="true" role="spinbutton" 
                                              aria-label="Points for Option A advantages" 
                                              aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">50</span>
                                        <button class="value-btn plus" data-target="value-5" 
                                                aria-label="Increase points for Option A advantages">+</button>
                                    </div>
                                    <div class="value-control">
                                        <button class="value-btn minus" data-target="value-6" 
                                                aria-label="Decrease points for Option B advantages">−</button>
                                        <span id="value-6" class="slider-value-right editable-value" 
                                              contenteditable="true" role="spinbutton" 
                                              aria-label="Points for Option B advantages" 
                                              aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">50</span>
                                        <button class="value-btn plus" data-target="value-6" 
                                                aria-label="Increase points for Option B advantages">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-reference">
                        <div class="step-reference-grid">
                            <div class="step-reference-item">
                                <h5>Advantages of <span id="step3-adv-a-title">Option A</span>:</h5>
                                <div id="step3-advantages-a" class="step-reference-content"></div>
                            </div>
                            <div class="step-reference-item">
                                <h5>Advantages of <span id="step3-adv-b-title">Option B</span>:</h5>
                                <div id="step3-advantages-b" class="step-reference-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4.4: Disadvantages Comparison -->
            <div class="comparison-step">
                <h3>Step 4: Compare Disadvantages</h3>
                <p>Focus only on disadvantages. Which option has worse disadvantages? The higher number goes to the side with <b>more</b> disadvantages.</p>
                
                <div class="step-with-reference">
                    <div class="comparison-section">
                        <div class="slider-comparison">
                            <div class="slider-labels">
                                <span class="slider-label-left">Disadvantages of <span id="dis-a-label-2">Option A</span></span>
                                <span class="slider-label-right">Disadvantages of <span id="dis-b-label-2">Option B</span></span>
                            </div>
                            <div class="slider-container">
                                <label for="slider-7-8" class="sr-only">Allocate 100 points between disadvantages of both options</label>
                                <input type="range" id="slider-7-8" class="comparison-slider" 
                                       min="0" max="100" step="5" value="50"
                                       aria-describedby="slider-7-8-help"
                                       aria-valuetext="50 points to Option A disadvantages, 50 points to Option B disadvantages">
                                <div id="slider-7-8-help" class="sr-only">Use arrow keys to adjust allocation. Move toward a side to give it more points. Total always equals 100.</div>
                                <div class="slider-values">
                                    <div class="value-control">
                                        <button class="value-btn minus" data-target="value-7" 
                                                aria-label="Decrease points for Option A disadvantages">−</button>
                                        <span id="value-7" class="slider-value-left editable-value" 
                                              contenteditable="true" role="spinbutton" 
                                              aria-label="Points for Option A disadvantages" 
                                              aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">50</span>
                                        <button class="value-btn plus" data-target="value-7" 
                                                aria-label="Increase points for Option A disadvantages">+</button>
                                    </div>
                                    <div class="value-control">
                                        <button class="value-btn minus" data-target="value-8" 
                                                aria-label="Decrease points for Option B disadvantages">−</button>
                                        <span id="value-8" class="slider-value-right editable-value" 
                                              contenteditable="true" role="spinbutton" 
                                              aria-label="Points for Option B disadvantages" 
                                              aria-valuemin="0" aria-valuemax="100" aria-valuenow="50">50</span>
                                        <button class="value-btn plus" data-target="value-8" 
                                                aria-label="Increase points for Option B disadvantages">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-reference">
                        <div class="step-reference-grid">
                            <div class="step-reference-item">
                                <h5>Disadvantages of <span id="step4-dis-a-title">Option A</span>:</h5>
                                <div id="step4-disadvantages-a" class="step-reference-content"></div>
                            </div>
                            <div class="step-reference-item">
                                <h5>Disadvantages of <span id="step4-dis-b-title">Option B</span>:</h5>
                                <div id="step4-disadvantages-b" class="step-reference-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button id="calculate-result" class="primary-btn">Calculate Result</button>
        </section>

        <!-- Results -->
        <section id="results-section" class="section hidden">
            <h2>Decision Analysis Results</h2>
            <div id="results-content"></div>
            <div class="results-actions">
                <button id="share-results" class="primary-btn">📤 Share Results</button>
                <button id="save-pdf" class="primary-btn">📄 Save as PDF</button>
                <button id="start-over" class="secondary-btn">Start Over</button>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
